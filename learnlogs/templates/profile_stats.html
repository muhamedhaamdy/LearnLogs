{% extends 'student_sidebar_test.html' %}
{% block content %}
<meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0, shrink-to-fit=no' name='viewport' />
<!--     Fonts and icons     -->
<link href="https://fonts.googleapis.com/css?family=Montserrat:400,700,200" rel="stylesheet" />
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css" rel="stylesheet">
<link rel="stylesheet" href="../static/assets/css/profile.css">
<!-- CSS Files -->
<!-- <link rel="stylesheet" href="../static/assets/css/dashborad.css"> -->
<!-- <link href="../static/assets/css/bootstrap.min.css" rel="stylesheet" /> -->
<link href="../static/assets/css/paper-dashboard.css" rel="stylesheet" />
<script src="https://d3js.org/d3.v4.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/billboard.js/dist/billboard.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/billboard.js/dist/billboard.min.css" />
<link rel="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css"type="text/css" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/1.0.1/Chart.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.min.js"type="text/javascript"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.2.2/Chart.min.js"></script>

<style>
/* Custom styles for the container */
.custom-container {
    display: flex;
    flex-direction: row; /* Align cards horizontally */
    justify-content: center;
    align-items: center;
    gap: 20px;
}

/* Custom styles for the cards */
.custom-card {
    background-color: #f8f9fa;
    border: 1px solid #dee2e6;
    border-radius: 8px;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    width: 30%; /* Adjust the percentage as needed */
    max-width: 300px; /* Set a max-width to prevent excessive expansion */
    transition: transform 0.3s ease; /* Smooth transition for translation */
}

.custom-card:hover {
    border: 1px solid #007bff; /* Change border color on hover */
    transform: translateY(-5px); /* Translate cards upwards slightly on hover */
}
/* Custom styles for the card body */
.custom-card-body {
    padding: 20px;
}

/* Custom styles for the icon */
.custom-icon-big {
    font-size: 36px;
}

/* Custom styles for the icon color */
.custom-icon-warning {
    color: #ffc107;
}

/* Custom styles for the numbers */
.custom-numbers {
    text-align: center;
}

/* Custom styles for the category */
.custom-category {
    font-size: 14px;
    color: #6c757d;
}

/* Custom styles for the title */
.custom-title {
    font-size: 24px;
    margin-top: 5px;
}
/* Media query for small devices */
@media (max-width: 576px) {
    /* Adjust column width for small devices */
    .custom-col-5,
    .custom-col-md-4,
    .custom-col-7,
    .custom-col-md-5 {
        flex: 0 0 100%;
        max-width: 100%;
    }
    .custom-container {
        flex-direction: column; /* Align cards vertically */
    }

}
.card {
    margin-top: 20px;
    border: 0;
    border-radius: 6px;
    color: #333;
    background: #fff;
    width: 100%;
    box-shadow: 0 1px 4px 0 rgba(0, 0, 0, 0.14);
    display: inline-block;
    position: relative;
    margin: 25px 0;
    font-weight: 300;
    text-align: center;
    border-radius: 10px;
    padding: 20px;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
}

</style>

<div class="col-8">
    <div class="content">
        <div class="row custom-container justify-content-center align-items-center">
            <div class="custom-card">
                <div class="custom-card-body">
                    <div class="row justify-content-center">
                        <div class="custom-col-5 custom-col-md-4">
                            <div class="custom-icon-big text-center custom-icon-warning">
                                <i class="nc-icon nc-globe text-warning"></i>
                            </div>
                        </div>
                        <div class="custom-col-7 custom-col-md-5">
                            <div class="custom-numbers">
                                <p class="custom-category">number of session attended</p>
                                <p class="custom-title">{{student.attended|length}}</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="custom-card">
                <div class="custom-card-body">
                    <div class="row justify-content-center">
                        <div class="custom-col-5 custom-col-md-4">
                            <div class="custom-icon-big text-center custom-icon-warning">
                                <i class="nc-icon nc-money-coins text-success"></i>
                            </div>
                        </div>
                        <div class="custom-col-7 custom-col-md-5">
                            <div class="custom-numbers">
                                <p class="custom-category">your percentage</p>
                                <p class="custom-title">{{ '%.2f'|format(precentage) }}%</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="custom-card">
                <div class="custom-card-body">
                    <div class="row justify-content-center">
                        <div class="custom-col-5 custom-col-md-4">
                            <div class="custom-icon-big text-center custom-icon-warning">
                                <i class="nc-icon nc-favourite-28 text-primary"></i>
                            </div>
                        </div>
                        <div class="custom-col-7 custom-col-md-5">
                            <div class="custom-numbers">
                                <p class="custom-category">your rating</p>
                                <p class="custom-title">+45K</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-4">
                <div class="card">
                    <div class="col-xs-12 text-center">
                        <h2>student attendance</h2>
                    </div>
                    <div id="donut-chart"></div>
                    <script>
                        var number_of_attended = "{{ number_of_attended }}";
                        var not_attended = "{{ sessions_number-number_of_attended }}";
                        var session1 = "{{list_of_student_marks[0]}}";
                        var session2 = "{{list_of_student_marks[1]}}";
                        var session3 = "{{list_of_student_marks[2]}}";
                        var session4 = "{{list_of_student_marks[3]}}";
                        var session5 = "{{list_of_student_marks[4]}}";
                        var session6 = "{{list_of_student_marks[5]}}";
                        var session7 = "{{list_of_student_marks[6]}}";
                        var session8 = "{{list_of_student_marks[7]}}";
                        var session9 = "{{list_of_student_marks[8]}}";
                        var session10 = "{{list_of_student_marks[9]}}";
                        let chart = bb.generate({
                            data: {
                                columns: [
                                    ["attended", number_of_attended],
                                    ["absent", not_attended],
                                ],
                                type: "donut",
                                onclick: function (d, i) {
                                    console.log("onclick", d, i);
                                },
                                onover: function (d, i) {
                                    console.log("onover", d, i);
                                },
                                onout: function (d, i) {
                                    console.log("onout", d, i);
                                },
                            },
                            bindto: "#donut-chart",
                        });
                    </script>
                </div>
            </div>
            <div class="col-md-5">
                <div class="card card-chart">
                    <div class="container">
                        <h2>student grade</h2>
                        <div>
                            <canvas id="myChart"></canvas>
                        </div>
                    </div>
                    <script>
                        let ctx = document.getElementById("myChart").getContext("2d");
                        let myChart = new Chart(ctx, {
                            type: "line",
                            data: {
                                labels: [
                                    "session 1",
                                    "session 2",
                                    "session 3",
                                    "session 4",
                                    "session 5",
                                    "session 6",
                                    "session 7",
                                    "session 8",
                                    "session 9",
                                    "session 10",
                                ],
                                datasets: [
                                    {
                                        label: "work load",
                                        data: [session1,session2,session3,session4,session5,session6,session7,session8,session9,session10],
                                        backgroundColor: "rgba(153,205,1,0.6)",
                                    }
                                ],
                            },
                        });
                    </script>
                </div>
            </div>
        </div>
    </div>
</div>

{% endblock %}