{% extends 'student_sidebar_test.html' %}
{% block content %}
<meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0, shrink-to-fit=no' name='viewport' />
<!--     Fonts and icons     -->
<link href="https://fonts.googleapis.com/css?family=Montserrat:400,700,200" rel="stylesheet" />
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css" rel="stylesheet">
<link rel="stylesheet" href="../static/assets/css/profile.css">
<!-- CSS Files -->
<link rel="stylesheet" href="../static/assets/css/dashborad.css">
<script src="https://d3js.org/d3.v4.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/billboard.js/dist/billboard.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/billboard.js/dist/billboard.min.css" />
<link rel="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css"type="text/css" />
<link rel="stylesheet" href="../static/styles/student_stats.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/1.0.1/Chart.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.min.js"type="text/javascript"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.2.2/Chart.min.js"></script>

<div class="col-8">
    <div class="content">
        <div class="row custom-container justify-content-center align-items-center">
            <div class="custom-card">
                <div class="custom-card-body">
                    <div class="row justify-content-center">
                        <div class="custom-col-5 custom-col-md-4">
                            <div class="custom-icon-big text-center custom-icon-warning">
                                <ion-icon class="iconss" name="checkmark-done-outline"></ion-icon>
                            </div>
                        </div>
                        <div class="custom-col-7 custom-col-md-5">
                            <div class="custom-numbers">
                                <p class="custom-category">number of session attended</p>
                                <p class="custom-title">{{student.attended|length}}</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="custom-card">
                <div class="custom-card-body">
                    <div class="row justify-content-center">
                        <div class="custom-col-5 custom-col-md-4">
                            <div class="custom-icon-big text-center custom-icon-warning">
                                <ion-icon class="iconss" name="analytics-outline"></ion-icon>
                            </div>
                        </div>
                        <div class="custom-col-7 custom-col-md-5">
                            <div class="custom-numbers">
                                <p class="custom-category">your percentage</p>
                                <p class="custom-title">{{ '%.2f'|format(precentage) }}%</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="custom-card">
                <div class="custom-card-body">
                    <div class="row justify-content-center">
                        <div class="custom-col-5 custom-col-md-4">
                            <div class="custom-icon-big text-center custom-icon-warning">
                                <ion-icon class="iconss" name="bar-chart-outline"></ion-icon>
                            </div>
                        </div>
                        <div class="custom-col-7 custom-col-md-5">
                            <div class="custom-numbers">
                                <p class="custom-category">your rating</p>
                                <p class="custom-title">+45K</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-4">
                <div class="card">
                    <div class="col-xs-12 text-center">
                        <h2>student attendance</h2>
                    </div>
                    <div id="donut-chart"></div>
                    <script>
                        var number_of_attended = "{{ number_of_attended }}";
                        var not_attended = "{{ sessions_number-number_of_attended }}";
                        var session1 = "{{list_of_student_marks[0]}}";
                        var session2 = "{{list_of_student_marks[1]}}";
                        var session3 = "{{list_of_student_marks[2]}}";
                        var session4 = "{{list_of_student_marks[3]}}";
                        var session5 = "{{list_of_student_marks[4]}}";
                        var session6 = "{{list_of_student_marks[5]}}";
                        var session7 = "{{list_of_student_marks[6]}}";
                        var session8 = "{{list_of_student_marks[7]}}";
                        var session9 = "{{list_of_student_marks[8]}}";
                        var session10 = "{{list_of_student_marks[9]}}";
                        let chart = bb.generate({
                            data: {
                                columns: [
                                    ["attended", number_of_attended],
                                    ["absent", not_attended],
                                ],
                                type: "donut",
                                onclick: function (d, i) {
                                    console.log("onclick", d, i);
                                },
                                onover: function (d, i) {
                                    console.log("onover", d, i);
                                },
                                onout: function (d, i) {
                                    console.log("onout", d, i);
                                },
                            },
                            bindto: "#donut-chart",
                        });
                    </script>
                </div>
            </div>
            <div class="col-md-5">
                <div class="card card-chart">
                    <div class="container">
                        <h2>student grade</h2>
                        <div>
                            <canvas id="myChart"></canvas>
                        </div>
                    </div>
                    <script>
                        let ctx = document.getElementById("myChart").getContext("2d");
                        let myChart = new Chart(ctx, {
                            type: "line",
                            data: {
                                labels: [
                                    "session 1",
                                    "session 2",
                                    "session 3",
                                    "session 4",
                                    "session 5",
                                    "session 6",
                                    "session 7",
                                    "session 8",
                                    "session 9",
                                    "session 10",
                                ],
                                datasets: [
                                    {
                                        label: "work load",
                                        data: [session1,session2,session3,session4,session5,session6,session7,session8,session9,session10],
                                        backgroundColor: "rgba(153,205,1,0.6)",
                                    }
                                ],
                            },
                        });
                    </script>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}